
<%= render 'shared/navbar_black' %>


<div class="banner d-flex flex-column">

  <ul class="nav nav-pills justify-content-center my-4 text-primary">
    <li class="nav-item">
      <%= link_to "Courses", browse_path, class:"nav-link h2" %>
    </li>
    <li class="nav-item">
      <a class="nav-link active h2" href="#">Cuisine</a>
    </li>
  </ul>

  <div class="container p-0">
    <% unless params[:l].present? %>
      <div class="container px-1 bg-white" id="searchRecipes" >
          <div class="text-left text-muted" >
            <div class="search-form-control form-group shadow-lg">
                <%= form_tag(meals_path, :method => "get") do %>
                  <%= text_field_tag :query, params[:query], placeholder: "üîé Chercher une recette", required: true, class:"form-control" %>
                  <%= submit_tag "Chercher", class: "btn btn-sm btn-primary" %>
                <% end %>
            </div>
          </div>
      </div>
    <% end %>

    <div class="jumbotron text-center d-flex align-items-center flex-column bg-white p-0 my-4">

        <h2 class="mb-2">Id√©e recette</h2>
        <div class="row m-1" style="min-width: 70%;">
          <div class="offset-md-3 col-md-6 p-0">
            <%= render 'card_recipe', recipe: @recipe_idea %>
          </div>
        </div>
        <hr class="my-2 mx-5">
        <h2 class="mb-2">Recettes et ingr√©dients</h2>

        <div class="px-5 py-3 rounded text-center mb-2">

          <%= link_to "üî• Les plus populaires", meals_path, class:"p lead" %>
          <hr class="my-4 mx-5">
          <%= link_to "‚≠ê Vos recettes en favoris", meals_path(favorites: 0), class:"p lead" %>
          <hr class="my-4 mx-5">
          <%= link_to "üîñ Vos derni√®res recettes", meals_path(history: 0), class:"p lead" %>
          <hr class="my-4 mx-5">
          <% if @categories.present? %>
            <% @categories.recommendation_items.order(:id).each do |recommendation|  %>
                <%= link_to "#{recommendation.name}", meals_path(category_id: recommendation.id), class:"p lead" %>
                <hr class="my-4 mx-5">
            <% end %>
          <% end %>
        </div>


    </div>


  </div>

</div>

<div style="padding: 50px;"></div>


<!-- add to list modal -->
  <div class="modal fade" id="addRecipeToListModal" tabindex="-1" role="dialog" aria-labelledby="addRecipeToListModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="addRecipeToListModal">Liste de courses</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div id="recipeModalContent">
          <div style="height: 40vh;" class="d-flex flex-column align-items-center justify-content-center">
            <i id="modalSpinner" class="fas fa-circle-notch fa-spin text-primary"></i>
            Chargement en cours...
          </div>
        </div>

      </div>
    </div>
  </div>

<% unless user_signed_in? %>
<!-- Navbar End -->
<%= render 'shared/login_form' %>
<%= render 'shared/signup_form' %>
<% end %>
