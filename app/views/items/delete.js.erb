// then when click is detected do the following:
// remove card from grocerylist
var section = document.getElementById("<%= @headername %>")
var newData = Number(section.getAttribute('data')) - 1;
$(section).attr('data', newData);

const listItemCards = document.querySelectorAll("#grocerylist-item-id<%= @item.id %>");
listItemCards.forEach(n => n.remove());


updateSavedSectionHead()
updateScore();

function updateSavedSectionHead() {
  if(document.getElementById("enregistres")) {
    var header = document.getElementById("enregistres");
    var count = header.querySelectorAll(".completed").length;
    if(count === 0){
       document.querySelectorAll("#enregistres").forEach(n => n.style.display = "none");
    } else {
       document.querySelectorAll("#enregistres").forEach(n => n.style.display = "block");
    }
  }
}

// update list score
function updateScore() {
  if(document.querySelector("#score")){
    var listId = document.querySelector("#score").getAttribute('data');

    $.ajax({
      url: "/get_score",
      cache: false,
      data: {
        l: listId
      },
      success: function(){
      }
    });
  }
}
