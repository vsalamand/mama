<div class="container d-flex justify-content-between my-2">
    <!-- dropdown button -->
    <div class="btn-group">
      <button type="button" class="m-2 btn btn-outline-secondary rounded" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Options</button>
      <div class="dropdown-menu dropdown-menu-right">
          <%= link_to "Admin", rails_admin.show_path(model_name: 'item', id: @item.id), target: '_blank', class:"btn dropdown-ite" %>
          <div class="dropdown-divider"></div>
          <%= link_to "Supprimer", @item, method: :delete,  data: { confirm: 'Êtes-vous sûr ?' }, class:"dropdown-item text-danger" %>

       </div>
    </div>

  <%= link_to 'Fermer', verify_items_path, class:"btn close m-2 px-0" %>
</div>



<div class="container my-4">
  <h1 class="text-primary"><%= @item.name %></h1>
</div>


<div class="container mb-5">
  <% if params[:recipe_id].present? %>
    <%= render 'form' %>


  <% elsif params[:list_item_id].present? %>
    <div class="container">
      <div class="form-wrapper">
        <div class="row">
          <div class="col-xs-6 col-xs-offset-3">
            <h2>Modifier un item</h2>
            <div class="recipe-form">
              <%= render 'validate' %>
            </div>
            <%= link_to 'Annuler', list_path(@list_item.list) %>
          </div>
        </div>
      </div>
    </div>

  <% else %>

        <div class="d-flex flex-column">
            <div class="">
              <%= simple_form_for @item, class:"d-flex flex-column" do |f| %>
               <fieldset disabled>
                <div class="form-row">
                  <div class="col m-0">
                  <%= f.input :list_item_id, input_html: { class:"form-control", type:"text" }  %>
                  </div>
                  <div class="col m-0">
                  <%= f.input :recipe_id, input_html: { class:"form-control", type:"text" }  %>
                  </div>
                </div>
                </fieldset>
                <%= f.input :name, input_html: { class:"form-control form-control-lg", type:"text" }  %>
                <div class="form-row">
                  <div class="form-group col-sm-2 mb-0">
                  <%= f.input :quantity, input_html: { class:"form-control" } %>
                  </div>
                  <div class="form-group col">
                  <label for="inputZip">Unité de mesure</label>
                  <%= f.collection_select(:unit_id, Unit.all.order(:name), :id, :name, {:include_blank => true}, {:class => 'form-control'}) %>
                  </div>
                </div>
                <label for="inputStoreSection">Rayon</label>
                <%= f.collection_select(:store_section_id, StoreSection.all.order(:name), :id, :name, {:include_blank => true}, {:class => 'form-control form-control-lg mb-2'}) %>
                </div>

                <label for="foodId" class="font-weight-bold">Category</label>
                <%= f.collection_select(:category_id, Category.arrange_as_array, :id, :name_for_selects, {:include_blank => true}, {:class => "select"} ) %>

                <div class="form-group form-check mt-4 mb-0 d-flex align-items-center flex-column">
                  <%= f.input :is_non_food, input_html: { class:"form-check-input", type:"checkbox"  } %>
                  <%= f.input :is_validated, :label => "Valider ?", input_html: { class:"form-check-input", type:"checkbox"  } %>
                </div>
                <div class="d-flex justify-content-center">
                <%= f.submit "Mettre à jour", class: "btn btn-outline-primary" %>
                </div>
              <% end %>
            </div>
        </div>

  <% end %>

</div>

<div style="padding: 50px;"></div>


<div class="container fixed-bottom d-flex justify-content-around my-2">
  <%= link_to "Passer sans valider", edit_item_path(@next_item), class:"btn btn-block btn-primary m-2 py-3" %>
  <%= link_to "Valider et passer", item_validate_path(@item), class:"btn btn-flat btn-block m-2 py-3" %>
</div>

