const listItemCard = document.querySelector("#grocerylist-item-id<%= @item.id %>");
listItemCard.innerHTML = "";
listItemCard.innerHTML = ("<%= j render 'items/show', list: @list, item: @item %>");

// animate reco icon
bounceIcon();

function bounceIcon() {
  var recoIcon = document.getElementById('recoIcon');
  $(recoIcon).addClass("bounceBtn");
  setTimeout(function() {
    $(recoIcon).removeClass("bounceBtn");
  }, 800);
}


history.pushState({page:1}, "List assistant form back", window.location.path);

// updateScore();

// update list score
function updateScore() {
  if(document.querySelector("#score")){
    var listId = document.querySelector("#score").getAttribute('data');

    $.ajax({
      url: "/get_score",
      cache: false,
      data: {
        l: listId
      },
      success: function(){
      }
    });
  }
}

const current_user_id = "<%= current_user.id if current_user %>";
// getEditHistory(current_user_id);

function getEditHistory(current_user_id) {
  const listId = document.querySelector("#todo_list").getAttribute('data');

  $.ajax({
    url: "/lists/" + listId + "/get_edit_history",
    cache: false,
    data: {
      a: current_user_id
      },
    success: function(data){
    }
  });
}

