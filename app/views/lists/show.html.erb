
<div class="container my-5">
  <h1 class="display-4 font-weight-bold">
    <%= @list.name.capitalize %>
    <small> <span class="badge badge-pill badge-primary grocerylist-count"><%= @list_items.size %></span></small>
  </h1>

  <div class="d-flex flex-wrap mb-5">
    <%= link_to "Afficher les paniers de courses", list_get_cart_path(@list), class:"btn btn-sm m-1 btn-flat2 py-2 font-weight-bold shadow-lg" %>
    <button type="button" class="m-1 btn btn-sm btn-outline-secondary" data-toggle="modal" data-target="#shareModal">
      Envoyer par email
    </button>
  </div>

  <!-- Modal -->
    <div class="modal fade" id="shareModal" tabindex="-1" role="dialog" aria-labelledby="shareModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="shareModalLabel">Envoyer par email</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <%= form_tag(list_share_path(@list), class: 'form-group') do |f| %>
            <div class="modal-body">
              <%= text_field_tag 'email', '', value: "#{current_user.present? ? current_user.email : ''}", type: "email", class:"form-control" %>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Annuler</button>
              <%= submit_tag "submit",:value => "Envoyer", class:"btn btn-primary"%>
            </div>
          <% end %>
        </div>
      </div>
    </div>
</div>

<hr class="my-3">




<div class="container" id="todo_list">

  <%= render "todo_list", list: @list, list_items: @list_items, list_item: @list_item %>

</div>

