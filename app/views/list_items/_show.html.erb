<% if list.user == current_user || list.users.include?(current_user) %>
  <div id="grocerylist-item-id<%= list_item.id %>">
    <li class="border-0 pl-3 list-group-item d-flex align-items-center justify-content-between" id="<%= dom_id(list_item) %>" >

      <% if list_item.is_completed == false %>
        <%= link_to list_list_item_complete_path(list_item.list, list_item), remote: true  do %>
          <div class="d-flex align-items-center">
            <i class="far fa-lg fa-check-square"></i>
            <p class="m-0 pl-2 p-1"><%= list_item.name %></p>
          </div>
        <% end %>
      <% else %>
        <%= link_to list_list_item_uncomplete_path(list_item.list, list_item), remote: true do %>
          <div class="d-flex align-items-center">
            <i class="fas fa-lg fa-square"></i>
            <p class="m-0 pl-2 p-1 text-muted"><del><%= list_item.name %></del></p>
          </div>
        <% end %>
      <% end %>

        <%= link_to list_list_item_path(list_item.list, list_item), method: :delete, remote: true do %>
          <button type="button" class="close ml-2 mr-0 remove-item" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        <% end %>

    </li>
  </div>


<% else %>
  <%= render 'items/selected_item', item: list_item.item %>

<% end %>
