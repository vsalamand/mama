
function refreshForm(innerHTML) {
  const newListItemForm = document.getElementById('new_list_item');
  newListItemForm.innerHTML = innerHTML;
  var submitButton = document.getElementById('addListItemBtn');
  $(submitButton).prop('disabled', true);
  event.preventDefault();
}

function refreshList() {
  // reload content in grocerylist
  const uncompleteListItems = document.getElementById('uncomplete_list_items');
  uncompleteListItems.innerHTML = "";
  uncompleteListItems.innerHTML = ("<%= j render 'lists/uncomplete_todo_list', list: @list %>");
}


<% if @list_item.errors.any? %>
  refreshForm('<%= j render "list_items/form", list: @list, list_item: @list_item %>');
<% else %>
  refreshList();
  scrollToLastItem();
  refreshForm('<%= j render "list_items/form", list: @list, list_item: ListItem.new %>');
<% end %>


// no longer used...
function scrollToLastItem() {
  // const listItems = document.querySelectorAll('#uncomplete_list_items li');
  // var lastItem = listItems[listItems.length - 1];
  // listItems.insertAdjacentHTML('beforeend', reviewHTML);
  // listItems.scrollIntoView(true);
  // var lastItem = document.getElementById("grocerylist-item-id<%= @list_item.id %>");
  var position = document.getElementById("scrollPoint")
  position.scrollIntoView(false);
  event.preventDefault();
}



// focus on form input field
$('#newListItem').focus();


// Increment counters
// let counter = document.querySelector(".grocerylist-count");
// let count = parseInt(document.querySelector(".grocerylist-count").innerHTML);
// counter.innerHTML = count + 1;
